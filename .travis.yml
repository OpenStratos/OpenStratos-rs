language: rust
sudo: required
dist: trusty
rust:
  - 1.5.0
  - 1.6.0
  - beta
  - nightly
install:
  - sudo apt-get update
  - sudo apt-get install -y gcc-arm-linux-gnueabihf qemu-user
before_script:
    - sh prepare-script.sh
script:
  - cargo build --target arm-unknown-linux-gnueabihf
  - cargo build --target arm-unknown-linux-gnueabihf --features="debug"
  - cargo build --target arm-unknown-linux-gnueabihf --no-default-features --features="debug"
  - cargo build --target arm-unknown-linux-gnueabihf --features="debug sim"
  - cargo build --target arm-unknown-linux-gnueabihf --features="debug real-sim"
  - cargo build --target arm-unknown-linux-gnueabihf --features="sim"
  - cargo build --target arm-unknown-linux-gnueabihf --features="real-sim"
  # Still testing left, maybe we should run a simple script
